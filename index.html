<html>
<title>JS Projects</title>
<style>
    body {
        background-color: rgb(100,100,100)
    }
    .textBox {
        background-color: rgb(200,200,200);
        border: 3px solid rgb(225,225,225);
        margin-left: 100px;
        margin-right: 100px;
        height: 200px;
        overflow:scroll;
    }
    .div1 {
        margin-left: 100px;
        margin-right: 100px;
        margin-top: 50px;
        background-color: rgb(175,175,175);
        height: 1400px;
        border: 5px solid rgb(150,150,150)
    }
    canvas {
	padding: 0;
    	margin: auto;
    	display: block;
    	width: 1000px;
    	height: 700px;
    	position: absolute;
    	top: 800px;
    	left: 0;
    	right: 0;
        border:5px solid rgb(125,125,125);
        background-color: rgb(150,150,150);
    }
</style> 
<body onload="start()">
<h1 align="center">Slash Code</h1>
<div class="div1">
<br>
<h3 align="center">Input</h3>
<p contenteditable="true" class="textBox" id="input"></p>
<table align="center">
    <tr>
        <th style="width: 70px"><button onmousedown="modeChange(1)">Encoding Mode</button></th>
        <th style="width: 70px"><button onmousedown="modeChange(0)">Decoding Mode</button></th>
	<th style="width: 70px"><button onmousedown="clearBoxes()">Clear Text Boxes</button></th>
    </tr>
</table>
<h3 align="center">Output</h3>
<p class="textBox" id="output"></p>
<i align="center">Please refrain from selecting all and copying, or using linebreaks. Doing any of that will result in you having a bad time.</i>
</div>
<script>
	
window.addEventListener("keydown", function(e) {
    if([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {
        e.preventDefault();
    }
}, false);	
	
	

var mode = 1;
document.addEventListener("keyup", keyUpHandler, false);
function keyUpHandler() {
    encode();
}
function encode() {
    var input = document.getElementById("input").innerHTML;
	if (mode == 1) {
		document.getElementById("output").innerHTML = input;
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/,/g, '‚');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/\//g, '∕');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/-/g, '–');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/\./g, '․');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/a/gi, '.,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/b/gi, '..,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/c/gi, '...,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/d/gi, '....,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/e/gi, '-,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/f/gi, '-.,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/g/gi, '-..,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/h/gi, '-...,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/i/gi, '-....,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/j/gi, '/,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/k/gi, '/.,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/l/gi, '/..,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/m/gi, '/...,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/n/gi, '/....,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/o/gi, '/-,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/p/gi, '/-.,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/q/gi, '/-..,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/r/gi, '/-...,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/s/gi, '/-....,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/t/gi, '//,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/u/gi, '//.,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/v/gi, '//..,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/w/gi, '//...,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/x/gi, '//....,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/y/gi, '//-,');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace(/z/gi, '//-.,');
	} else {
		document.getElementById("output").innerHTML = input;
		var oldText = document.getElementById("output").innerHTML;
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//-.,', 'z');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//-,', 'y');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//....,', 'x');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//...,', 'w');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//..,', 'v');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.,', 'u');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//,', 't');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-....,', 's');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-...,', 'r');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-..,', 'q');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.,', 'p');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-,', 'o');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/....,', 'n');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/...,', 'm');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/..,', 'l');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.,', 'k');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/,', 'j');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-....,', 'i');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-...,', 'h');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-..,', 'g');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.,', 'f');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-,', 'e');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('....,', 'd');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('...,', 'c');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('..,', 'b');
        	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.,', 'a');
		//Loss prevention thingy \/
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//-a', 'z');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//f', 'z');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/p', 'z');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//e', 'y');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/o', 'y');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//...a', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//..a', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.a', 'v');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//a', 'u');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//..b', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.b', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//b', 'v');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.c', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//c', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//d', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/n', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/m', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/l', 'v');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/k', 'u');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/j', 't');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/e', 'o');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/f', 'p');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/g', 'q');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/h', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/i', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-...a', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-..a', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.a', 'q');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-a', 'p');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-..b', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.b', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-b', 'q');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.c', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-c', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-d', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/...a', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/..a', 'm');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.a', 'l');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/a', 'k');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/..b', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.b', 'm');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/b', 'l');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.c', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/c', 'm');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/d', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-...a', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-..a', 'h');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.a', 'g');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-a', 'f');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-..b', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.b', 'h');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-b', 'g');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.c', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-c', 'h');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-d', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('...a', 'd');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('..a', 'c');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.a', 'b');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('..b', 'd');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.b', 'c');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.c', 'd');
		
		var newText = document.getElementById("output").innerHTML;
		if (oldText !== newText) {
			decodeAgain();	
		}
	}
}
function decodeAgain() {
	var oldText = document.getElementById("output").innerHTML;
	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//-.,', 'z');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//-,', 'y');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//....,', 'x');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//...,', 'w');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//..,', 'v');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.,', 'u');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//,', 't');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-....,', 's');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-...,', 'r');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-..,', 'q');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.,', 'p');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-,', 'o');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/....,', 'n');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/...,', 'm');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/..,', 'l');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.,', 'k');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/,', 'j');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-....,', 'i');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-...,', 'h');
       	document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-..,', 'g');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.,', 'f');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-,', 'e');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('....,', 'd');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('...,', 'c');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('..,', 'b');
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.,', 'a');
		
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//-a', 'z');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//f', 'z');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/p', 'z');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//e', 'y');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/o', 'y');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//...a', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//..a', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.a', 'v');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//a', 'u');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//..b', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.b', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//b', 'v');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//.c', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//c', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('//d', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/n', 'x');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/m', 'w');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/l', 'v');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/k', 'u');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/j', 't');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/e', 'o');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/f', 'p');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/g', 'q');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/h', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/i', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-...a', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-..a', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.a', 'q');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-a', 'p');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-..b', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.b', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-b', 'q');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-.c', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-c', 'r');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/-d', 's');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/...a', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/..a', 'm');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.a', 'l');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/a', 'k');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/..b', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.b', 'm');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/b', 'l');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/.c', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/c', 'm');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('/d', 'n');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-...a', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-..a', 'h');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.a', 'g');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-a', 'f');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-..b', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.b', 'h');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-b', 'g');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-.c', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-c', 'h');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('-d', 'i');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('...a', 'd');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('..a', 'c');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.a', 'b');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('..b', 'd');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.b', 'c');
		document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.replace('.c', 'd');
	
	var newText = document.getElementById("output").innerHTML;
	if (oldText !== newText) {
		decodeAgain();	
	}
}
function modeChange(n) {
    	mode = n;
	encode();
}
function clearBoxes() {
	document.getElementById("input").innerHTML = "";
	document.getElementById("output").innerHTML = "";
}
	
	
	
//pong \/
	
var block; //dont change
    var paddle; //dont change
    var spacing = 1;
    var gameSpeed = 1;
    var colorVal = 0; //dont change
    var canvasWidth = 1000;
    var canvasHeight = 700;
    var blockWidth = 20;
    var blockHeight = 20;
    var paddleWidth = 15;
    var paddleHeight = 90;
    var paddleSpace = 30;
    var paddleSpeed = 0.75; //changes player speed
    var reset = false; //dont change
    var paddle2Speed = 0.875; //changes default paddle speed
    var playerScoreVal = 0; //dont change
    var aiScoreVal = 0; //dont change
    var upPressed = false; //dont change
    var downPressed = false; //dont change
    var upPressed2 = false; //dont change
    var downPressed2 = false; //dont change
    var mode = 0;
    
    document.addEventListener("keydown", keyDownHandler, false);
    document.addEventListener("keyup", keyUpHandler, false);
    
    function keyDownHandler(e) {
        if(e.key == "Up" || e.key == "ArrowUp") {
            upPressed = true;
        }
        else if(e.key == "Down" || e.key == "ArrowDown") {
            downPressed = true;
        }
        if(e.key == "w" || e.key == "W") {
            upPressed2 = true;
        }
        else if(e.key == "s" || e.key == "S") {
            downPressed2 = true;
        }
    }

    function keyUpHandler(e) {
        if(e.key == "Up" || e.key == "ArrowUp") {
            upPressed = false;
        }
        else if(e.key == "Down" || e.key == "ArrowDown") {
            downPressed = false;
        }
        if(e.key == "w" || e.key == "W") {
            upPressed2 = false;
        }
        else if(e.key == "s" || e.key == "S") {
            downPressed2 = false;
        }
    }
    
    function start() {
        block = new component(blockWidth, blockHeight, "rgb(255,0,0)", Math.floor(canvasWidth * 0.5), Math.floor(canvasHeight * 0.5));
        paddle = new component(paddleWidth, paddleHeight, "rgb(255,255,255)", Math.floor(canvasWidth - paddleSpace - paddleWidth), Math.floor((canvasHeight * 0.5) - (paddleHeight * 0.5)));
        paddle2 = new component(paddleWidth, paddleHeight, "rgb(255,255,255)", Math.floor(paddleSpace), Math.floor((canvasHeight * 0.5) - (paddleHeight * 0.5)));
        playerScore = new component("30px", "Impact", "rgb(0,0,0,0.5)", (canvasWidth - (paddleSpace * 5)), 40, "text");
        aiScore = new component("30px", "Impact", "rgb(0,0,0,0.5)", (paddleSpace * 2), 40, "text");
        area.start();
    }

    var area = {
        canvas : document.createElement("canvas"),
        start : function() {
            this.canvas.width = canvasWidth;
            this.canvas.height = canvasHeight;
            this.context = this.canvas.getContext("2d");
            document.body.insertBefore(this.canvas, document.body.childNodes[0]);
            this.interval = setInterval(updateArea, gameSpeed);
        },
        clear : function() {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
        }
    }
    
    function component(width, height, color, x, y, type) {
        this.type = type;
        this.width = width;
        this.height = height;
        this.speedX = spacing;
        this.speedY = spacing;
        this.x = x;
        this.y = y;    
        this.update = function() {
            ctx = area.context;
            
            if (colorVal == 0) {
                ctx.fillStyle = "rgb(255,0,0)"
            }
            if (colorVal == 1) {
                ctx.fillStyle = "rgb(255,125,0)"
            }
            if (colorVal == 2) {
                ctx.fillStyle = "rgb(255,255,0)"
            }
            if (colorVal == 3) {
                ctx.fillStyle = "rgb(0,255,50)"
            }
            if (colorVal == 4) {
                ctx.fillStyle = "rgb(0,100,255)"
            }
            if (colorVal == 5) {
                ctx.fillStyle = "rgb(200,0,255)"
            }
            ctx.fillRect(this.x, this.y, this.width, this.height);
        }
        this.updatePaddle = function() {
            ctx = area.context;
            ctx.fillStyle = "rgb(255,255,255)";
            ctx.fillRect(this.x, this.y, this.width, this.height);
        }
        this.updateText = function() {
            ctx.font = this.width + " " + this.height;
            ctx.fillStyle = color;
            ctx.fillText(this.text, this.x, this.y);
        }
        this.updatePos = function() {
            if (reset) {
                this.x = Math.floor(canvasWidth * 0.5);
                this.y = Math.floor(Math.random() * (canvasHeight - blockHeight));
                reset = false;
            } else {
                this.x += this.speedX;
                this.y += this.speedY;
            }
        }
    }
    
function updateArea() {
    area.clear();
    block.updatePos();    
    block.update();
    paddle.updatePaddle();
    paddle.updatePos();
    paddle2.updatePaddle();
    paddle2.updatePos();
    
    if (mode == 0) {
        playerScore.text = "Player: " + playerScoreVal;
        playerScore.updateText();
        
        aiScore.text = "Bot: " + aiScoreVal;
        aiScore.updateText(); 
    } else {
        playerScore.text = "Player 2: " + playerScoreVal;
        playerScore.updateText();
        
        aiScore.text = "Player 1: " + aiScoreVal;
        aiScore.updateText();   
    }
    
    paddle.speedX = 0;
    paddle2.speedX = 0;
    
    var random = Math.floor(Math.random() * 6);
    var paddle2X = Math.floor(paddle2.x + paddleWidth);
    
    if (block.y == canvasHeight - blockHeight) {
        block.speedY = -spacing;
        colorVal = random;
    }
     
    if (block.y == 0) {
        block.speedY = spacing;
        colorVal = random;
    }
    if (block.x == canvasWidth + blockWidth) {
        block.speedX = -spacing;
        colorVal = random;
        reset = true;
        aiScoreVal += 1;
    }
    if (block.x == (0 - blockWidth)) {
        block.speedX = spacing;
        colorVal = random;
        reset = true;
        playerScoreVal += 1;
    }
    if ((block.x + blockWidth) == paddle.x) {
        if ((block.y + blockHeight) >= paddle.y) {
            if (block.y < (paddle.y + paddleHeight)) {
                block.speedX = -spacing;
                colorVal = random;
            }
        }
    }
    if (block.x == (paddle2X)) {
        if ((block.y + blockHeight) >= paddle2.y) {
            if (block.y < (paddle2.y + paddleHeight)) {
                block.speedX = spacing;
                colorVal = random;
            }
        }
    }
    if (upPressed) {
        paddle.speedY = -paddleSpeed
    } else if (downPressed) {
            paddle.speedY = paddleSpeed
    } else {
        paddle.speedY = 0;
    }
    if (paddle.y > (canvasHeight - paddleHeight)) {
        paddle.y = (canvasHeight - paddleHeight)
    }
    if (paddle.y < 0) {
        paddle.y = 0;
    }
    if (mode == 0) {
         if ((paddle2.y + (0.5 * paddleHeight)) < (block.y + (0.5 * blockHeight))) {
            paddle2.speedY = paddle2Speed;
        }
        if ((paddle2.y + (0.5 * paddleHeight)) > (block.y + (0.5 * blockHeight))) {
            paddle2.speedY = -paddle2Speed;
        }
    } else {
        paddle2.speedY = 0;
        if (upPressed2) {
            paddle2.speedY = -paddleSpeed
        } else if (downPressed2) {
            paddle2.speedY = paddleSpeed
        } else {
            paddle2.speedY = 0;
        }
    }
    if (paddle2.y < 0) {
        paddle2.y = 0;
    }
    if (paddle2.y > (canvasHeight - paddleHeight)) {
        paddle2.y = (canvasHeight - paddleHeight)
    }
    if (block.y < 0) {
        block.y = 0;
        block.speedY = spacing;
        colorVal = random;
    }
    if (block.y > (canvasHeight - blockHeight)) {
        block.y = (canvasHeight - blockHeight)
        block.speedY = -spacing;
        colorVal = random;
    }
}   
function speed(n) {
    paddleSpeed = n;
}
function enemySpeed(n) {
    paddle2Speed = n;
}
function modeChange(n) {
    aiScoreVal = 0;
    playerScoreVal = 0;
    paddle.y = Math.floor((canvasHeight * 0.5) - (paddleHeight * 0.5));
    paddle2.y = Math.floor((canvasHeight * 0.5) - (paddleHeight * 0.5));
    reset = true;
    mode = n;
}
function resetBoard() {
    aiScoreVal = 0;
    playerScoreVal = 0;
    paddle.y = Math.floor((canvasHeight * 0.5) - (paddleHeight * 0.5));
    paddle2.y = Math.floor((canvasHeight * 0.5) - (paddleHeight * 0.5));
    reset = true;
}
</script>
</body>
</html>
