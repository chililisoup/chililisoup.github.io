<html>

<style>
    canvas {
        padding: 0;
    	margin: auto;
    	display: block;
    	position: absolute;
    	top: 10px;
    	left: 10px;
        background-color: rgb(255,255,255);
        border:5px solid rgb(150,150,150);
    }
    .sidebar {
        position: absolute;
        top: 10px;
        right: 10px;
        height: auto;
        width: auto;
        background-color: rgb(175,175,175);
        border: 5px solid rgb(150,150,150);
    }
    body {
        background-color: rgb(100,100,100)
    }
    .btn {
        border: none;
        padding: 2px;
        width: 15px;
        height: 10px;
        cursor: pointer;
        display: inline-block;
    }
    .red {background-color: rgb(255,0,0);}
    .orange {background-color: rgb(255,160,0);}
    .yellow {background-color: rgb(255,255,0);}
    .green {background-color: rgb(0,175,25);}
    .blue {background-color: rgb(0,0,255);}
    .purple {background-color: rgb(125,0,175);}
    .white {background-color: rgb(255,255,255);}
    .gray {background-color: rgb(125,125,125);}
    .black {background-color: rgb(0,0,0);}
    
</style>
	
<head>
    <title>Art</title>
</head>
    
<body onload="start()" onmousemove="getCoords(event)">
    
<script>
	
    var squareBrush;
    var draw = false;
    var mouseX;
    var mouseY;
    var runSpeed = 1;
    var canvasWidth = 960;
    var canvasHeight = 540;
    var brushSize = 20;
	var brushColor = 0;
    
    window.addEventListener('mousedown', function() {
        draw = true;
    });
    
    window.addEventListener('mouseup', function() {
        draw = false;
    });
    
    function start() {
        squareBrush = new component(brushSize, brushSize, "rgb(255,0,0)", -brushSize, -brushSize);
        area.start();
    }

    var area = {
        canvas : document.createElement("canvas"),
        start : function() {
            this.canvas.width = canvasWidth;
            this.canvas.height = canvasHeight;
            this.context = this.canvas.getContext("2d");
            document.body.insertBefore(this.canvas, document.body.childNodes[0]);
            this.interval = setInterval(updateArea, runSpeed);
        },
        clear : function() {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
        }
    }
    
    function component(width, height, color, x, y) {
        this.width = width;
        this.height = height;
        this.x = x;
        this.y = y;    
        this.update = function() {
            ctx = area.context;
            if (brushColor == 0) {
                ctx.fillStyle = "rgb(255,0,0)"
            } else if (brushColor == 1) {
                ctx.fillStyle = "rgb(255,160,0)"
            } else if (brushColor == 2) {
                ctx.fillStyle = "rgb(255,255,0)"           
            } else if (brushColor == 3) {
                ctx.fillStyle = "rgb(0,175,25)"           
            } else if (brushColor == 4) {
                ctx.fillStyle = "rgb(0,0,255)"           
            } else if (brushColor == 5) {
                ctx.fillStyle = "rgb(125,0,175)"           
            } else if (brushColor == 6) {
                ctx.fillStyle = "rgb(255,255,255)"           
            } else if (brushColor == 7) {
                ctx.fillStyle = "rgb(125,125,125)"           
            } else if (brushColor == 8) {
                ctx.fillStyle = "rgb(0,0,0)"           
            }
            ctx.fillRect(this.x, this.y, this.width, this.height);
    	}
    	this.updatePos = function() {
            if (draw) {
                this.x = mouseX;
                this.y = mouseY;
            }
    	}    
    }
    
    function updateArea() {
    	squareBrush.updatePos();    
    	squareBrush.update();
    }
	
    function getCoords(event) {
        mouseX = event.clientX - 15 - (brushSize * 0.5);
        mouseY = event.clientY - 15 - (brushSize * 0.5);
    }
    
    function colorSelect(n) {
        brushColor = n;
    }
    
</script>

<div class="sidebar">
    <button onmousedown="area.clear()">Reset</button>

    <table class="colorPalette">
        <tr>
            <th><button class="btn red" onmousedown="colorSelect(0)"> </button></th>
            <th><button class="btn orange" onmousedown="colorSelect(1)"> </button></th>
            <th><button class="btn yellow" onmousedown="colorSelect(2)"> </button></th>
        </tr>
        <tr>
            <th><button class="btn green" onmousedown="colorSelect(3)"> </button></th>
            <th><button class="btn blue" onmousedown="colorSelect(4)"> </button></th>
            <th><button class="btn purple" onmousedown="colorSelect(5)"> </button></th>
        </tr>
        <tr>
            <th><button class="btn white" onmousedown="colorSelect(6)"> </button></th>
            <th><button class="btn gray" onmousedown="colorSelect(7)"> </button></th>
            <th><button class="btn black" onmousedown="colorSelect(8)"> </button></th>
        </tr>
    </table
    
</div>
</body>

</html>
